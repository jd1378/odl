# Cross configuration: ensure cross-based Docker images install protoc
# The CI uses `cross` for many linux targets; install `protobuf-compiler`
# inside the container via a `pre-build` hook so `protoc` is available
# during the build.

# commented ones do not need it, will be provided by protobuf-src

# [target.aarch64-unknown-linux-musl]
# pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

[target.aarch64-unknown-linux-gnu]
pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

# [target.arm-unknown-linux-gnueabihf]
# pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

# [target.arm-unknown-linux-musleabihf]
# pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

[target.i686-unknown-linux-gnu]
pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

# [target.i686-unknown-linux-musl]
# pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

[target.x86_64-unknown-linux-gnu]
pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]

# [target.x86_64-unknown-linux-musl]
# pre-build = ["apt-get update", "apt-get install -y protobuf-compiler"]
